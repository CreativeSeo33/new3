{% extends 'catalog/base.html.twig' %}

{% block title %}Моё избранное — {{ parent() }}{% endblock %}

{% block catalog_body %}
  {# ai:page=wishlist map=@page_wishlist_map.mdc v=1 #}
  <div class="bg-white">
    <div class="container mx-auto px-4 py-8">
      <h1 class="text-2xl font-bold text-gray-900 mb-6">Моё избранное</h1>

      <div data-module="wishlist-counter">
        <span class="text-sm text-gray-600">Всего: <span data-wishlist-counter>0</span></span>
      </div>

      {% if items is defined and items|length > 0 %}
        <div class="mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
          {% for it in items %}
            <div class="border rounded-lg p-4 bg-white shadow-sm">
              <a href="{{ it.url }}" class="block">
                {% if it.image %}
                  <img src="{{ it.image }}" alt="{{ it.name }}" class="w-full h-40 object-cover rounded-md mb-3"/>
                {% endif %}
                <div class="text-sm text-gray-900 font-medium mb-1">{{ it.name }}</div>
                {% if it.price is not null %}
                  <div class="text-sm text-gray-700">{{ it.price }} руб.</div>
                {% endif %}
              </a>
              <div class="mt-3">
                <button type="button"
                        class="w-full bg-gray-100 hover:bg-gray-200 text-gray-700 text-sm font-medium py-2 px-3 rounded"
                        data-module="wishlist-toggle"
                        data-product-id="{{ it.id }}">
                  Удалить из избранного
                </button>
              </div>
            </div>
          {% endfor %}
        </div>
      {% else %}
        <div class="mt-6 text-gray-500">Список пуст. Добавьте товары из карточки товара.</div>
      {% endif %}
    </div>
  </div>
{% endblock %}


