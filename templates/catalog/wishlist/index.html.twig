{% extends 'catalog/base.html.twig' %}

{% set breadcrumbs = [
  { label: 'Главная', url: path('catalog_index')|default('/') },
  { label: 'Избранное' }
] %}

{% block title %}Моё избранное — {{ parent() }}{% endblock %}

{% block catalog_body %}
  {# ai:page=wishlist map=@page_wishlist_map.mdc v=1 #}
  <div class="bg-white">
    <div class="container mx-auto py-8">
      <h1 class="text-2xl font-bold text-gray-900 mb-6">Моё избранное</h1>

      <div data-module="wishlist-counter">
        <span class="text-sm text-gray-600">Всего: <span data-wishlist-counter>{{ wishlist_count() }}</span></span>
      </div>

      {% if products is defined and products|length > 0 %}
        <div class="mt-6" data-wishlist-grid>
          {% include 'catalog/category/_grid.html.twig' with { products: products, total: total|default(products|length), page: page|default(1), limit: limit|default(products|length), gridClasses: 'grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-4 2xl:grid-cols-4' } %}
        </div>
      {% else %}
        <div class="mt-6 text-gray-500">Список пуст. Добавьте товары из карточки товара.</div>
      {% endif %}
    </div>
  </div>
{% endblock %}


