{% extends 'catalog/base.html.twig' %}

{% block title %}Результаты поиска{% endblock %}

{% block catalog_body %}
  <div class="container mx-auto px-4 py-6">
    <h1 class="text-2xl font-bold mb-4">Поиск: "{{ text }}"</h1>
    <form action="{{ path('catalog_search') }}" method="GET" class="mb-6">
      <div class="flex max-w-2xl">
        <input type="text"
               name="text"
               placeholder="Поиск товаров..."
               value="{{ text }}"
               class="flex-1 h-12 px-4 border border-gray-300 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent rounded-l-full">
        <button type="submit"
                class="h-12 px-6 bg-blue-600 text-white rounded-r-full hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors duration-200">
          Найти
        </button>
      </div>
    </form>
    {% if text == '' %}
      <p class="text-gray-600">Введите поисковый запрос.</p>
    {% else %}
      <p class="text-gray-600 mb-4">Найдено: {{ total }}</p>
      {% include 'catalog/category/_grid.html.twig' with { products: products } %}
      {% if total > products|length %}
        <p class="text-sm text-gray-500">Показаны первые {{ products|length }} результатов.</p>
      {% endif %}
    {% endif %}
  </div>
{% endblock %}


