{% set list = breadcrumbs|default(items|default([])) %}
{% if list is not empty %}
  <div class="container mx-auto">
    <nav aria-label="Breadcrumb" class="pt-5">
      <ol class="flex items-center gap-1 text-sm text-gray-700">
      <li>
        <a href="/" class="block transition-colors hover:text-gray-900" aria-label="Home">
          <svg class="size-4" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"/>
          </svg>
        </a>
      </li>

      {% for crumb in list %}
        {% set isHomeCrumb = false %}
        {% if crumb.label is defined %}
          {% set isHomeCrumb = crumb.label|lower == 'главная' or (crumb.url|default('') == '/') %}
        {% else %}
          {% for name, link in crumb %}
            {% set isHomeCrumb = name|lower == 'главная' or link == '/' %}
          {% endfor %}
        {% endif %}
        {% if not isHomeCrumb %}
        <li class="rtl:rotate-180">
          <svg class="size-4" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5"/>
          </svg>
        </li>

        <li>
          {% if not loop.last %}
            {% if crumb.label is defined %}
              <a href="{{ crumb.url|default('#') }}" class="block transition-colors hover:text-gray-900">{{ crumb.label }}</a>
            {% else %}
              {% for name, link in crumb %}
                <a href="{{ link }}" class="block transition-colors hover:text-gray-900">{{ name }}</a>
              {% endfor %}
            {% endif %}
          {% else %}
            {% if crumb.label is defined %}
              <span class="text-gray-800">{{ crumb.label }}</span>
            {% else %}
              {% for name, link in crumb %}
                <span class="text-gray-800">{{ name }}</span>
              {% endfor %}
            {% endif %}
          {% endif %}
        </li>
        {% endif %}
      {% endfor %}
    </ol>
  </nav>
  </div>
{% endif %}

